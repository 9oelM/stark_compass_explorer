[Unit]
Description=StarkCompass Explorer

[Service]
WorkingDirectory=/home/{{ lookup('ansible.builtin.env', 'TS_USER') }}/stark_compass_explorer
Restart=on-failure
ExecStart=/home/{{ lookup('ansible.builtin.env', 'TS_USER') }}/stark_compass_explorer/entrypoint.sh
ExecReload=/bin/kill -HUP
KillSignal=SIGTERM
EnvironmentFile=/home/{{ lookup('ansible.builtin.env', 'TS_USER') }}/.env
StandardOutput=append:/home/{{ lookup('ansible.builtin.env', 'TS_USER') }}/logs/starknet_explorer.log
StandardError=append:/home/{{ lookup('ansible.builtin.env', 'TS_USER') }}/logs/starknet_explorer.log

[Install]
WantedBy=multi-user.target
